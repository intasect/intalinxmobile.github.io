<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Angular Material style sheet -->
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
	<title>IntaLinx Mobile@beta</title>
</head>
<body ng-app="DownloadApp" ng-cloak>
  <!--
    Your HTML content here
  -->  
	<div ng-controller="DownloadCtrl" ng-cloak>
	  	<md-content class="md-padding" layout-xs="column" layout="row">
	  	
		<md-card>
			<div style="display:flex;justify-content:center;-webkit-justify-content:center;">
				<img src="icon.png" style="width:50%;">
			</div>
			<div style="display:flex;justify-content:center;-webkit-justify-content:center;">
				<qrcode size="100" data="https://intasect.github.io/" href="https://intasect.github.io/"></qrcode>
			</div>
		    <md-card-title>
		        <md-card-title-text>
		        	<span class="md-headline">IntaLinx Mobile@beta</span>
		        </md-card-title-text>
		    </md-card-title>
		    <md-card-content>
		        <p>
					IntaLinx Mobileの開発中バージョンはここからダウンロードできます。
		        </p>
		    </md-card-content>
		    <md-card-actions layout="row" layout-align="center center">
		    	<md-button md-no-ink class="md-primary">
		    		<a ng-href="{{downloadUrl}}" ng-click="download()">
		    		{{downloadText}}
		    		</a>
		    	</md-button>
		    </md-card-actions>
		</md-card>
		</md-content>
	</div>
  
  
  <!-- Angular Material requires Angular.js Libraries -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

	<!-- Angular Material Library -->
	<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
	
	<script src="https://monospaced.github.io/bower-qrcode-generator/js/qrcode.js"></script>
	<script src="https://monospaced.github.io/bower-qrcode-generator/js/qrcode_UTF8.js"></script>
	<script src="https://raw.githubusercontent.com/monospaced/angular-qrcode/master/angular-qrcode.js"></script>

	<!-- Your application bootstrap  -->
	<script type="text/javascript">    
		/**
		* You must include the dependency on 'ngMaterial' 
		*/
	  	angular.module('DownloadApp', ['ngMaterial', 'monospaced.qrcode']).controller('DownloadCtrl', function($scope) {
	  		$scope.downloadUrl = "";
	  		if (/micromessenger/.test(navigator.userAgent.toLowerCase())) {
	  			$scope.downloadText = "ブラウザ/Safaraで開いてダウンロードしてください。";
	  		} else {
	  			$scope.downloadText = "ダウンロード";
  				$scope.downloadUrl = "itms-services://?action=download-manifest&url=https://intasect.github.io/intalinx.plist";
  			}
	  		$scope.download = function() {
	  			
	  		}
		});;
	</script>
  
</body>
</html>